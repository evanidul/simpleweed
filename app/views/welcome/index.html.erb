<% content_for :head do %>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>		
	<style>
		/** have to add margin on this page, b/c it doesn't have the normal app layout and the header will cover the message up **/
		.alert {
			margin-top:77px;
			margin-bottom:0px !important;
		}
	</style>
<% end %>
	
	<div id="homepage-map"></div>
			
			<script type="text/javascript">

	  			function codeAddress() {
					    //In this case it gets the address from an element on the page, but obviously you  could just pass it to the method instead

					    geocoder = new google.maps.Geocoder();					    
					    var address = "la, ca";

					    geocoder.geocode( { 'address': address}, function(results, status) {
					      if (status == google.maps.GeocoderStatus.OK) {
					        //In this case it creates a marker, but you can get the lat and lng from the location.LatLng
					        console.log(results[0].geometry.location);
							var myOptions = {
								zoom:15,
								center: new google.maps.LatLng(results[0].geometry.location),
								mapTypeId: google.maps.MapTypeId.ROADMAP
							}
					        map = new google.maps.Map(document.getElementById("homepage-map"), myOptions);
					        map.setCenter(results[0].geometry.location);
					        var marker = new google.maps.Marker({
					            map: map, 
					            position: results[0].geometry.location,				            
					        });
					        						
					      } else {
					      	//breaking selenium?
					        //alert("Geocode was not successful for the following reason: " + status);
					      }
					    });
					  }
				google.maps.event.addDomListener(window, "load", codeAddress);
				
			</script>
	

	